<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>

</head>

<body>
    <div th:fragment="pager(mainUrl, page)"
         th:with="
            firstPageUrl = ${mainUrl}+'?page=0&size='+${page.size},
            prevPageUrl = ${mainUrl}+'?page='+${page.number - 1}+'&size='+${page.size},
            nextPageUrl = ${mainUrl}+'?page='+${page.number + 1}+'&size='+${page.size},
            lastPageUrl = ${mainUrl}+'?page='+${page.totalPages - 1}+'&size='+${page.size}
            ">
        <nav>
            <ul class="pagination justify-content-center">

                <li class="page-item" th:classappend="${page.first}?'disabled'">
                    <a class="page-link" th:href="${page.first?'#':prevPageUrl}">Previous</a>
                </li>

                <li class="page-item"
                    th:each="pageIdx : ${#numbers.sequence(0, page.totalPages - 1)}"
                    th:classappend="${pageIdx eq page.number}?'active'"
                    th:with="pageUrl=${mainUrl}+'?page='+${pageIdx}+'&size='+${page.size}">
                    <a class="page-link" th:href="${pageUrl}">[[${pageIdx+1}]]</a>
                </li>

                <li class="page-item" th:classappend="${page.last}?'disabled'">
                    <a class="page-link" th:href="${page.last?'#':nextPageUrl}">Next</a>
                </li>
            </ul>

            <ul class="pagination justify-content-end" th:with="pageSizes = ${1, 2, 3, 4, 5, page.totalPages - 1}"> // UPEWNIJ SIÄ˜ ZE TO DZIALA
                <li class="page-item"
                    th:each="size:${pageSizes}"
                    th:classappend="${page.size == size}?'active'"
                    th:with="pageUrl=${mainUrl}+'page=0&size='+${size}">
                    <a class="page-link" th:href="${pageUrl}">
                        [[${size}]]
                    </a>
                </li>

            </ul>
        </nav>
    </div>
</body>
</html>